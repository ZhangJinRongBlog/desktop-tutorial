{"version":3,"file":"descriptions-row.js","sources":["../../src/descriptions/descriptions-row.tsx"],"sourcesContent":["import { defineComponent, inject, PropType } from 'vue';\n\nimport { LayoutEnum } from '../common';\nimport { usePrefixClass } from '../hooks/useConfig';\n\nimport { descriptionsKey } from './const';\nimport { ItemsType, TdDescriptionItem } from './interface';\nimport { renderVNodeTNode, itemTypeIsProps } from './utils';\n\nexport default defineComponent({\n  name: 'TDescriptionsRow',\n  props: {\n    row: Array as PropType<TdDescriptionItem[]>,\n    itemType: String as PropType<ItemsType>,\n  },\n  setup(props) {\n    const descriptionsProps = inject(descriptionsKey);\n    const COMPONENT_NAME = usePrefixClass('descriptions');\n\n    const label = (node: TdDescriptionItem, layout: LayoutEnum = LayoutEnum.HORIZONTAL) => {\n      const labelClass = [`${COMPONENT_NAME.value}__label`];\n\n      let label = null;\n      let span = null;\n      if (itemTypeIsProps(props.itemType, node)) {\n        label = node.label;\n        span = node.span;\n      } else {\n        label = renderVNodeTNode(node, 'label');\n        span = node.props.span;\n      }\n      const labelSpan = layout === LayoutEnum.HORIZONTAL ? 1 : span;\n\n      return (\n        <td colspan={labelSpan} class={labelClass} {...{ style: descriptionsProps.labelStyle }}>\n          {label}\n          {descriptionsProps.colon && ':'}\n        </td>\n      );\n    };\n\n    const content = (node: TdDescriptionItem, layout: LayoutEnum = LayoutEnum.HORIZONTAL) => {\n      const contentClass = [`${COMPONENT_NAME.value}__content`];\n\n      let content = null;\n      let span = null;\n      if (itemTypeIsProps(props.itemType, node)) {\n        content = node.content;\n        span = node.span;\n      } else {\n        content = renderVNodeTNode(node, 'content', 'default');\n        span = node.props.span;\n      }\n      const contentSpan = span > 1 && layout === LayoutEnum.HORIZONTAL ? span * 2 - 1 : span;\n\n      return (\n        <td colspan={contentSpan} class={contentClass} {...{ style: descriptionsProps.contentStyle }}>\n          {content}\n        </td>\n      );\n    };\n\n    // 总共有四种布局\n    // Layout horizontal vertical\n    // itemLayout horizontal vertical\n\n    const hh = () => (\n      <tr>\n        {props.row.map((node) => (\n          <>\n            {label(node)}\n            {content(node)}\n          </>\n        ))}\n      </tr>\n    );\n\n    const hv = () => (\n      <>\n        <tr>{props.row.map((node) => label(node, LayoutEnum.VERTICAL))}</tr>\n        <tr>{props.row.map((node) => content(node, LayoutEnum.VERTICAL))}</tr>\n      </>\n    );\n\n    const vh = () => (\n      <>\n        {props.row.map((node) => (\n          <tr>\n            {label(node)}\n            {content(node)}\n          </tr>\n        ))}\n      </>\n    );\n\n    const vv = () => (\n      <>\n        {props.row.map((node) => (\n          <>\n            <tr>{label(node)}</tr>\n            <tr>{content(node)}</tr>\n          </>\n        ))}\n      </>\n    );\n\n    return () => (\n      <>\n        {descriptionsProps.layout === LayoutEnum.HORIZONTAL\n          ? descriptionsProps.itemLayout === LayoutEnum.HORIZONTAL\n            ? hh()\n            : hv()\n          : descriptionsProps.itemLayout === LayoutEnum.HORIZONTAL\n          ? vh()\n          : vv()}\n      </>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","row","Array","itemType","String","setup","descriptionsProps","inject","descriptionsKey","COMPONENT_NAME","usePrefixClass","label","node","layout","arguments","length","undefined","LayoutEnum","HORIZONTAL","labelClass","concat","value","span","itemTypeIsProps","renderVNodeTNode","labelSpan","_createVNode","_mergeProps","style","labelStyle","colon","content","contentClass","contentSpan","contentStyle","hh","map","_Fragment","hv","VERTICAL","vh","vv","itemLayout"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,sBAAeA,eAAgB,CAAA;AAC7BC,EAAAA,IAAM,EAAA,kBAAA;AACNC,EAAAA,KAAO,EAAA;AACLC,IAAAA,GAAK,EAAAC,KAAA;AACLC,IAAAA,QAAU,EAAAC,MAAAA;GACZ;EACAC,qBAAML,CAAAA,KAAO,EAAA;AACL,IAAA,IAAAM,iBAAA,GAAoBC,OAAOC,eAAe,CAAA,CAAA;AAC1C,IAAA,IAAAC,cAAA,GAAiBC,eAAe,cAAc,CAAA,CAAA;AAEpD,IAAA,IAAMC,KAAQ,GAAA,SAARA,KAAQA,CAACC,IAAyB,EAA+C;AAAA,MAAA,IAA/CC,MAAA,GAAAC,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAqBG,CAAAA,CAAAA,GAAAA,WAAWC,UAAe,CAAA;MACrF,IAAMC,UAAa,GAAA,CAAAC,EAAAA,CAAAA,MAAA,CAAIX,cAAA,CAAeY,KAAc,EAAA,SAAA,CAAA,CAAA,CAAA;MAEpD,IAAIV,MAAQ,GAAA,IAAA,CAAA;MACZ,IAAIW,IAAO,GAAA,IAAA,CAAA;MACX,IAAIC,eAAgB,CAAAvB,KAAA,CAAMG,QAAU,EAAAS,IAAI,CAAG,EAAA;QACzCD,SAAQC,IAAK,CAAAD,KAAA,CAAA;QACbW,IAAA,GAAOV,IAAK,CAAAU,IAAA,CAAA;AACd,OAAO,MAAA;AACLX,QAAAA,MAAAA,GAAQa,gBAAiB,CAAAZ,IAAA,EAAM,OAAO,CAAA,CAAA;AACtCU,QAAAA,IAAA,GAAOV,KAAKZ,KAAM,CAAAsB,IAAA,CAAA;AACpB,OAAA;MACA,IAAMG,SAAY,GAAAZ,MAAA,KAAWI,UAAW,CAAAC,UAAA,GAAa,CAAI,GAAAI,IAAA,CAAA;MAGvD,OAAAI,WAAA,OAAAC,UAAA,CAAA;AAAA,QAAA,SAAA,EAAaF,SAAA;QAAA,OAAkBN,EAAAA,UAAAA;AAAgB,OAAA,EAAA;QAAES,KAAO,EAAAtB,iBAAA,CAAkBuB,UAAAA;AAAW,OAAA,CAAA,EAAA,CAClFlB,MAAAA,EACAL,kBAAkBwB,KAAS,IAAA,GAAA,CAAA,CAAA,CAAA;KAGlC,CAAA;AAEA,IAAA,IAAMC,OAAU,GAAA,SAAVA,OAAUA,CAACnB,IAAyB,EAA+C;AAAA,MAAA,IAA/CC,MAAA,GAAAC,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAqBG,CAAAA,CAAAA,GAAAA,WAAWC,UAAe,CAAA;MACvF,IAAMc,YAAe,GAAA,CAAAZ,EAAAA,CAAAA,MAAA,CAAIX,cAAA,CAAeY,KAAgB,EAAA,WAAA,CAAA,CAAA,CAAA;MAExD,IAAIU,QAAU,GAAA,IAAA,CAAA;MACd,IAAIT,IAAO,GAAA,IAAA,CAAA;MACX,IAAIC,eAAgB,CAAAvB,KAAA,CAAMG,QAAU,EAAAS,IAAI,CAAG,EAAA;QACzCmB,WAAUnB,IAAK,CAAAmB,OAAA,CAAA;QACfT,IAAA,GAAOV,IAAK,CAAAU,IAAA,CAAA;AACd,OAAO,MAAA;QACLS,QAAU,GAAAP,gBAAA,CAAiBZ,IAAM,EAAA,SAAA,EAAW,SAAS,CAAA,CAAA;AACrDU,QAAAA,IAAA,GAAOV,KAAKZ,KAAM,CAAAsB,IAAA,CAAA;AACpB,OAAA;AACM,MAAA,IAAAW,WAAA,GAAcX,OAAO,CAAK,IAAAT,MAAA,KAAWI,WAAWC,UAAa,GAAAI,IAAA,GAAO,IAAI,CAAI,GAAAA,IAAA,CAAA;MAElF,OAAAI,WAAA,OAAAC,UAAA,CAAA;AAAA,QAAA,SAAA,EACeM,WAAA;QAAA,OAAoBD,EAAAA,YAAAA;AAAA,OAAA,EAAA;QAAoBJ,KAAA,EAAOtB,iBAAkB,CAAA4B,YAAAA;AAAA,OAAA,CAAA,EAAA,CAC3EH,QAAAA,CAAAA,CAAAA,CAAAA;KAGP,CAAA;AAMM,IAAA,IAAAI,EAAA,GAAK,SAALA,EAAAA,GAAA;MAAA,OAAAT,WAAA,cAED1B,MAAMC,GAAI,CAAAmC,GAAA,CAAI,UAACxB,IACd,EAAA;AAAA,QAAA,OAAAc,WAAA,CAAAW,QAAA,EAAA,IAAA,EAAA,CACG1B,MAAMC,IAAI,CAAA,EACVmB,QAAQnB,IAAI,CAAA,CAAA,CAAA,CAAA;AAAA,OAEhB;KANF,CAAA;AAUH,IAAA,IAAM0B,KAAK,SAALA;mEAEGtC,KAAM,CAAAC,GAAA,CAAImC,GAAI,CAAA,UAACxB,IAAS,EAAA;AAAA,QAAA,OAAAD,KAAA,CAAMC,IAAM,EAAAK,UAAA,CAAWsB,QAAQ,CAAC,CAAA;qCACxDvC,KAAM,CAAAC,GAAA,CAAImC,GAAI,CAAA,UAACxB,IAAS,EAAA;AAAA,QAAA,OAAAmB,OAAA,CAAQnB,IAAM,EAAAK,UAAA,CAAWsB,QAAQ,CAAC,CAAA;;KACjE,CAAA;AAGI,IAAA,IAAAC,EAAA,GAAK,SAALA,EAAAA,GAAA;MAAA,OAAAd,WAAA,CAAAW,QAAA,EAEDrC,IAAAA,EAAAA,CAAAA,KAAA,CAAMC,IAAImC,GAAI,CAAA,UAACxB;2BAEXD,IAAAA,EAAAA,IAAAA,EAAAA,CAAAA,MAAMC,IAAI,CAAA,EACVmB,QAAQnB,IAAI,CAAA,CAAA,CAAA,CAAA;AAAA,OAEhB,CACH,CAAA,CAAA,CAAA;KAAA,CAAA;AAGF,IAAA,IAAM6B,KAAK,SAALA;mCAEDzC,IAAAA,EAAAA,CAAAA,MAAMC,GAAI,CAAAmC,GAAA,CAAI,UAACxB,IACd,EAAA;AAAA,QAAA,OAAAc,WAAA,CAAAW,QAAA,EAAAX,IAAAA,EAAAA,CAAAA,WAAA,cACOf,KAAM,CAAAC,IAAI,8BACVmB,OAAQ,CAAAnB,IAAI;OAEpB,CACH,CAAA,CAAA,CAAA;KAAA,CAAA;IAGK,OAAA,YAAA;AAAA,MAAA,OAAAc,WAAA,CAAAW,QAAA,SAEF/B,iBAAkB,CAAAO,MAAA,KAAWI,WAAWC,UACrC,GAAAZ,iBAAA,CAAkBoC,eAAezB,UAAW,CAAAC,UAAA,GAC1CiB,IACA,GAAAG,EAAA,KACFhC,iBAAkB,CAAAoC,UAAA,KAAezB,WAAWC,UAC5C,GAAAsB,EAAA,EACA,GAAAC,EAAA,EACN,CAAA,CAAA,CAAA;KAAA,CAAA;AAEJ,GAAA;AACF,CAAC,CAAA;;;;"}