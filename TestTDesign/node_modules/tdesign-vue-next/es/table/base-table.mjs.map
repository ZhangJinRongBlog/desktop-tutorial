{"version":3,"file":"base-table.mjs","sources":["../../src/table/base-table.tsx"],"sourcesContent":["import { computed, defineComponent, SetupContext, ref, nextTick, PropType, watch, onMounted, toRefs } from 'vue';\nimport pick from 'lodash/pick';\nimport get from 'lodash/get';\nimport props from './base-table-props';\nimport useTableHeader from './hooks/useTableHeader';\nimport useColumnResize from './hooks/useColumnResize';\nimport useFixed from './hooks/useFixed';\nimport usePagination from './hooks/usePagination';\nimport useVirtualScrollNew from '../hooks/useVirtualScrollNew';\nimport useAffix from './hooks/useAffix';\nimport Loading from '../loading';\nimport TBody, { extendTableProps } from './tbody';\nimport { BaseTableProps } from './interface';\nimport { useTNodeJSX } from '../hooks/tnode';\nimport useStyle, { formatCSSUnit } from './hooks/useStyle';\nimport useClassName from './hooks/useClassName';\nimport { useConfig } from '../hooks/useConfig';\nimport { Affix } from '../affix';\nimport { ROW_LISTENERS } from './tr';\nimport THead from './thead';\nimport TFoot from './tfoot';\nimport { getAffixProps } from './utils';\nimport { Styles, ComponentScrollToElementParams } from '../common';\nimport { getIEVersion } from '../_common/js/utils/helper';\nimport { BaseTableInstanceFunctions } from './type';\nimport log from '../_common/js/log';\nimport { useRowHighlight } from './hooks/useRowHighlight';\nimport useHoverKeyboardEvent from './hooks/useHoverKeyboardEvent';\nimport useElementLazyRender from '../hooks/useElementLazyRender';\nimport isFunction from 'lodash/isFunction';\n\nexport const BASE_TABLE_EVENTS = ['page-change', 'cell-click', 'scroll', 'scrollX', 'scrollY'];\nexport const BASE_TABLE_ALL_EVENTS = ROW_LISTENERS.map((t) => `row-${t}`).concat(BASE_TABLE_EVENTS);\n\nexport interface TableListeners {\n  [key: string]: Function;\n}\n\nexport default defineComponent({\n  name: 'TBaseTable',\n\n  props: {\n    ...props,\n    /**\n     * 渲染展开行，非公开属性，请勿在业务中使用\n     */\n    renderExpandedRow: Function as PropType<BaseTableProps['renderExpandedRow']>,\n    onLeafColumnsChange: Function as PropType<BaseTableProps['onLeafColumnsChange']>,\n    thDraggable: Boolean,\n  },\n\n  emits: ['show-element-change'],\n\n  setup(props: BaseTableProps, context: SetupContext) {\n    const { lazyLoad } = toRefs(props);\n    const renderTNode = useTNodeJSX();\n    const tableRef = ref<HTMLDivElement>();\n    const tableElmRef = ref<HTMLTableElement>();\n    const tableBodyRef = ref<HTMLTableElement>();\n    const bottomContentRef = ref<HTMLDivElement>();\n    const tableFootHeight = ref(0);\n    const { classPrefix, virtualScrollClasses, tableLayoutClasses, tableBaseClass, tableColFixedClasses } =\n      useClassName();\n    // 表格基础样式类\n    const { tableClasses, sizeClassNames, tableContentStyles, tableElementStyles } = useStyle(props);\n    const { globalConfig } = useConfig('table', props.locale);\n    const { isMultipleHeader, spansAndLeafNodes, thList } = useTableHeader(props);\n    const finalColumns = computed(() => spansAndLeafNodes.value?.leafColumns || props.columns);\n\n    const { showElement } = useElementLazyRender(tableRef, lazyLoad);\n\n    // 吸附相关ref 用来做视图resize后重新定位\n    const paginationAffixRef = ref();\n    const horizontalScrollAffixRef = ref();\n    const headerTopAffixRef = ref();\n    const footerBottomAffixRef = ref();\n\n    // 固定表头和固定列逻辑\n    const {\n      scrollbarWidth,\n      virtualScrollHeaderPos,\n      tableWidth,\n      tableElmWidth,\n      tableContentRef,\n      isFixedHeader,\n      isWidthOverflow,\n      isFixedColumn,\n      thWidthList,\n      showColumnShadow,\n      rowAndColFixedPosition,\n      setData,\n      refreshTable,\n      setTableElmWidth,\n      emitScrollEvent,\n      setUseFixedTableElmRef,\n      updateColumnFixedShadow,\n      getThWidthList,\n      updateThWidthList,\n      addTableResizeObserver,\n      updateTableAfterColumnResize,\n    } = useFixed(props, context, finalColumns, {\n      paginationAffixRef,\n      horizontalScrollAffixRef,\n      headerTopAffixRef,\n      footerBottomAffixRef,\n    });\n\n    // 1. 表头吸顶；2. 表尾吸底；3. 底部滚动条吸底；4. 分页器吸底\n    const {\n      affixHeaderRef,\n      affixFooterRef,\n      horizontalScrollbarRef,\n      paginationRef,\n      showAffixHeader,\n      showAffixFooter,\n      showAffixPagination,\n      onHorizontalScroll,\n      setTableContentRef,\n      updateAffixHeaderOrFooter,\n    } = useAffix(props);\n\n    const { dataSource, innerPagination, isPaginateData, renderPagination } = usePagination(props, context);\n\n    // 列宽拖拽逻辑\n    const columnResizeParams = useColumnResize({\n      isWidthOverflow,\n      tableContentRef,\n      showColumnShadow,\n      getThWidthList,\n      updateThWidthList,\n      setTableElmWidth,\n      updateTableAfterColumnResize,\n      onColumnResizeChange: props.onColumnResizeChange,\n    });\n    const { resizeLineRef, resizeLineStyle, setEffectColMap } = columnResizeParams;\n\n    const dynamicBaseTableClasses = computed(() => [\n      tableClasses.value,\n      {\n        [tableBaseClass.headerFixed]: isFixedHeader.value,\n        [tableBaseClass.columnFixed]: isFixedColumn.value,\n        [tableBaseClass.widthOverflow]: isWidthOverflow.value,\n        [tableBaseClass.multipleHeader]: isMultipleHeader.value,\n        [tableColFixedClasses.leftShadow]: showColumnShadow.left,\n        [tableColFixedClasses.rightShadow]: showColumnShadow.right,\n        [tableBaseClass.columnResizableTable]: props.resizable,\n        [`${classPrefix}-table__row--active-${props.activeRowType}`]: props.activeRowType,\n      },\n    ]);\n\n    const tableElmClasses = computed(() => [[tableLayoutClasses[props.tableLayout]]]);\n\n    const showRightDivider = computed(\n      () =>\n        props.bordered &&\n        isFixedHeader.value &&\n        ((isMultipleHeader.value && isWidthOverflow.value) || !isMultipleHeader.value),\n    );\n\n    const dividerBottom = computed(() => {\n      if (!props.bordered) return 0;\n      const bottomRect = bottomContentRef.value?.getBoundingClientRect();\n      const paginationRect = paginationRef.value?.getBoundingClientRect();\n      return (bottomRect?.height || 0) + (paginationRect?.height || 0);\n    });\n\n    // 行高亮\n    const { tActiveRow, onHighlightRow, addHighlightKeyboardListener, removeHighlightKeyboardListener } =\n      useRowHighlight(props, tableRef);\n\n    const {\n      hoverRow,\n      needKeyboardRowHover,\n      clearHoverRow,\n      addRowHoverKeyboardListener,\n      removeRowHoverKeyboardListener,\n    } = useHoverKeyboardEvent(props, tableRef);\n\n    watch(tableElmRef, () => {\n      setUseFixedTableElmRef(tableElmRef.value);\n    });\n\n    watch(\n      () => [props.data, dataSource],\n      () => {\n        setData(isPaginateData.value ? dataSource.value : props.data);\n      },\n    );\n\n    watch(\n      spansAndLeafNodes,\n      () => {\n        props.onLeafColumnsChange?.(spansAndLeafNodes.value.leafColumns);\n        setEffectColMap(spansAndLeafNodes.value.leafColumns, null);\n      },\n      { immediate: true },\n    );\n\n    const onFixedChange = () => {\n      nextTick(() => {\n        onHorizontalScroll();\n        updateAffixHeaderOrFooter();\n      });\n    };\n\n    // 虚拟滚动相关数据\n    const virtualScrollParams = computed(() => ({\n      data: props.data,\n      scroll: props.scroll,\n    }));\n    const virtualConfig = useVirtualScrollNew(tableContentRef, virtualScrollParams);\n\n    let lastScrollY = -1;\n    const onInnerVirtualScroll = (e: WheelEvent) => {\n      const target = (e.target || e.srcElement) as HTMLElement;\n      const top = target.scrollTop;\n      // 排除横向滚动触发的纵向虚拟滚动计算\n      if (lastScrollY !== top) {\n        virtualConfig.isVirtualScroll.value && virtualConfig.handleScroll();\n      } else {\n        lastScrollY = -1;\n        updateColumnFixedShadow(target);\n      }\n      lastScrollY = top;\n      emitScrollEvent(e);\n    };\n\n    // used for top margin\n    const getTFootHeight = () => {\n      if (!tableElmRef.value) return;\n      tableFootHeight.value = tableElmRef.value.querySelector('tfoot')?.getBoundingClientRect().height;\n    };\n\n    // 对外暴露方法，修改时需谨慎（expose）\n    const scrollColumnIntoView: BaseTableInstanceFunctions['scrollColumnIntoView'] = (colKey: string) => {\n      if (!tableContentRef.value) return;\n      const thDom = tableContentRef.value.querySelector(`th[data-colkey=\"${colKey}\"]`);\n      const fixedThDom = tableContentRef.value.querySelectorAll('th.t-table__cell--fixed-left');\n      let totalWidth = 0;\n      for (let i = 0, len = fixedThDom.length; i < len; i++) {\n        totalWidth += fixedThDom[i].getBoundingClientRect().width;\n      }\n      const domRect = thDom.getBoundingClientRect();\n      const contentRect = tableContentRef.value.getBoundingClientRect();\n      const distance = domRect.left - contentRect.left - totalWidth;\n      tableContentRef.value.scrollTo({ left: distance, behavior: 'smooth' });\n    };\n\n    watch(tableContentRef, () => {\n      setTableContentRef(tableContentRef.value);\n    });\n\n    watch(tableElmRef, getTFootHeight);\n\n    watch(tableRef, (tableRef) => {\n      addTableResizeObserver(tableRef);\n    });\n\n    onMounted(() => {\n      getTFootHeight();\n      setTableContentRef(tableContentRef.value);\n      addTableResizeObserver(tableRef.value);\n    });\n\n    const onTableFocus = () => {\n      props.activeRowType && addHighlightKeyboardListener();\n      needKeyboardRowHover.value && addRowHoverKeyboardListener();\n    };\n\n    const onTableBlur = () => {\n      props.activeRowType && removeHighlightKeyboardListener();\n      needKeyboardRowHover.value && removeRowHoverKeyboardListener();\n    };\n\n    const onInnerRowClick: BaseTableProps['onRowClick'] = (ctx) => {\n      props.onRowClick?.(ctx);\n      props.activeRowType && onHighlightRow(ctx);\n      needKeyboardRowHover.value && clearHoverRow();\n    };\n\n    watch(\n      [showElement],\n      ([showElement]) => {\n        context.emit('show-element-change', showElement);\n      },\n      { immediate: true },\n    );\n\n    const tableData = computed(() => (isPaginateData.value ? dataSource.value : props.data));\n\n    const scrollToElement = (params: ComponentScrollToElementParams) => {\n      let { index } = params;\n      if (!index && index !== 0) {\n        if (!params.key) {\n          log.error('Table', 'scrollToElement: one of `index` or `key` must exist.');\n          return;\n        }\n        index = tableData.value?.findIndex((item) => get(item, props.rowKey) === params.key);\n        if (index < 0) {\n          log.error('Table', `${params.key} does not exist in data, check \\`rowKey\\` or \\`data\\` please.`);\n        }\n      }\n      virtualConfig.scrollToElement({ ...params, index: index - 1 });\n    };\n\n    return {\n      thList,\n      classPrefix,\n      innerPagination,\n      globalConfig,\n      tableFootHeight,\n      virtualScrollHeaderPos,\n      tableWidth,\n      tableElmWidth,\n      tableRef,\n      tableElmRef,\n      sizeClassNames,\n      tableBaseClass,\n      spansAndLeafNodes,\n      dynamicBaseTableClasses,\n      tableContentStyles,\n      tableElementStyles,\n      dividerBottom,\n      virtualScrollClasses,\n      tableLayoutClasses,\n      tableElmClasses,\n      tableContentRef,\n      isFixedHeader,\n      isWidthOverflow,\n      isFixedColumn,\n      rowAndColFixedPosition,\n      showColumnShadow,\n      thWidthList,\n      isPaginateData,\n      dataSource,\n      affixHeaderRef,\n      affixFooterRef,\n      bottomContentRef,\n      paginationRef,\n      showAffixHeader,\n      showAffixFooter,\n      scrollbarWidth,\n      isMultipleHeader,\n      showRightDivider,\n      resizeLineRef,\n      resizeLineStyle,\n      columnResizeParams,\n      horizontalScrollbarRef,\n      tableBodyRef,\n      virtualConfig,\n      showAffixPagination,\n      tActiveRow,\n      hoverRow,\n      showElement,\n      scrollToElement,\n      renderPagination,\n      renderTNode,\n      onFixedChange,\n      onHorizontalScroll,\n      updateAffixHeaderOrFooter,\n      onInnerVirtualScroll,\n      refreshTable,\n      scrollColumnIntoView,\n      onTableFocus,\n      onTableBlur,\n      onInnerRowClick,\n      paginationAffixRef,\n      horizontalScrollAffixRef,\n      headerTopAffixRef,\n      footerBottomAffixRef,\n    };\n  },\n\n  render() {\n    if (!this.showElement) {\n      return <div ref=\"tableRef\"></div>;\n    }\n\n    const { rowAndColFixedPosition, tableLayout } = this;\n    const data = this.isPaginateData ? this.dataSource : this.data;\n    const columns = this.spansAndLeafNodes?.leafColumns || this.columns;\n\n    const columnResizable = this.allowResizeColumnWidth ?? this.resizable;\n    if (columnResizable && tableLayout === 'auto') {\n      log.warn(\n        'Table',\n        'table-layout can not be `auto`, cause you are using column resizable, set `table-layout: fixed` please.',\n      );\n    }\n\n    const defaultColWidth = tableLayout === 'fixed' && this.isWidthOverflow ? '100px' : undefined;\n\n    const renderColGroup = (isAffixHeader = true) => (\n      <colgroup>\n        {columns.map((col) => {\n          const style: Styles = {\n            width:\n              formatCSSUnit(\n                (isAffixHeader || columnResizable ? this.thWidthList[col.colKey] : undefined) || col.width,\n              ) || defaultColWidth,\n          };\n          if (col.minWidth) {\n            style.minWidth = formatCSSUnit(col.minWidth);\n          }\n          // 没有设置任何宽度的场景下，需要保留表格正常显示的最小宽度，否则会出现因宽度过小的抖动问题\n          if (!style.width && !col.minWidth && this.tableLayout === 'fixed') {\n            style.minWidth = '80px';\n          }\n          return <col key={col.colKey} style={style}></col>;\n        })}\n      </colgroup>\n    );\n\n    const renderAffixedHeader = () => {\n      if (this.showHeader === false) return null;\n      return (\n        !!(this.virtualConfig.isVirtualScroll.value || this.headerAffixedTop) &&\n        (this.headerAffixedTop ? (\n          <Affix\n            offsetTop={0}\n            {...getAffixProps(this.headerAffixedTop)}\n            onFixedChange={this.onFixedChange}\n            ref=\"headerTopAffixRef\"\n          >\n            {affixHeaderWithWrap}\n          </Affix>\n        ) : (\n          this.isFixedHeader && affixHeaderWithWrap\n        ))\n      );\n    };\n\n    const renderAffixedHorizontalScrollbar = () => (\n      <Affix\n        offsetBottom={0}\n        {...getAffixProps(this.horizontalScrollAffixedBottom)}\n        style={{ marginTop: `-${this.scrollbarWidth * 2}px` }}\n        horizontalScrollAffixedBottom\n        ref=\"horizontalScrollAffixRef\"\n      >\n        <div\n          ref=\"horizontalScrollbarRef\"\n          class={['scrollbar', this.tableBaseClass.obviousScrollbar]}\n          style={{\n            width: `${this.tableWidth}px`,\n            overflow: 'auto',\n            opacity: Number(this.showAffixFooter),\n          }}\n        >\n          <div style={{ width: `${this.tableElmWidth}px`, height: '5px' }}></div>\n        </div>\n      </Affix>\n    );\n\n    const headProps = {\n      isFixedHeader: this.isFixedHeader,\n      rowAndColFixedPosition: this.rowAndColFixedPosition,\n      isMultipleHeader: this.isMultipleHeader,\n      bordered: this.bordered,\n      maxHeight: this.maxHeight,\n      height: this.height,\n      spansAndLeafNodes: this.spansAndLeafNodes,\n      thList: this.thList,\n      thWidthList: this.thWidthList,\n      resizable: this.resizable,\n      columnResizeParams: this.columnResizeParams,\n      classPrefix: this.classPrefix,\n      ellipsisOverlayClassName: this.size !== 'medium' ? this.sizeClassNames[this.size] : '',\n      attach: this.attach,\n      showColumnShadow: this.showColumnShadow,\n      thDraggable: this.thDraggable,\n    };\n\n    /**\n     * Affixed Header\n     */\n    // IE 浏览器需要遮挡 header 吸顶滚动条，要减去 getBoundingClientRect.height 的滚动条高度 4 像素\n    const IEHeaderWrap = getIEVersion() <= 11 ? 4 : 0;\n    const barWidth = this.isWidthOverflow ? this.scrollbarWidth : 0;\n    const affixHeaderHeight = ref((this.affixHeaderRef?.getBoundingClientRect().height || 0) - IEHeaderWrap);\n    // 等待表头渲染完成后再更新高度，有可能列变动带来多级表头的高度变化，错误高度会导致滚动条显示\n    const timer = setTimeout(() => {\n      affixHeaderHeight.value = (this.affixHeaderRef?.getBoundingClientRect().height || 0) - IEHeaderWrap;\n      clearTimeout(timer);\n    }, 0);\n    const affixHeaderWrapHeight = computed(() => affixHeaderHeight.value - barWidth);\n    // 两类场景：1. 虚拟滚动，永久显示表头，直到表头消失在可视区域； 2. 表头吸顶，根据滚动情况判断是否显示吸顶表头\n    const headerOpacity = props.headerAffixedTop ? Number(this.showAffixHeader) : 1;\n    const affixHeaderWrapHeightStyle = computed(() => {\n      return {\n        width: `${this.tableWidth}px`,\n        height: `${affixHeaderWrapHeight.value}px`,\n        opacity: headerOpacity,\n      };\n    });\n    // 多级表头左边线缺失\n    const affixedLeftBorder = this.bordered ? 1 : 0;\n    const affixedHeader = Boolean(\n      (this.headerAffixedTop || this.virtualConfig.isVirtualScroll.value) && this.tableWidth,\n    ) && (\n      <div\n        ref=\"affixHeaderRef\"\n        style={{\n          width: `${this.tableWidth - affixedLeftBorder}px`,\n          opacity: Number(this.showAffixHeader),\n        }}\n        class={[\n          'scrollbar',\n          {\n            [this.tableBaseClass.affixedHeaderElm]: this.headerAffixedTop || this.virtualConfig.isVirtualScroll.value,\n          },\n        ]}\n      >\n        <table class={this.tableElmClasses} style={{ ...this.tableElementStyles, width: `${this.tableElmWidth}px` }}>\n          {renderColGroup(true)}\n          <THead v-slots={this.$slots} {...headProps} />\n        </table>\n      </div>\n    );\n\n    // 添加这一层，是为了隐藏表头的横向滚动条。如果以后不需要照顾 IE 10 以下的项目，则可直接移除这一层\n    // 彼时，可更为使用 CSS 样式中的 .hideScrollbar()\n    const affixHeaderWithWrap = (\n      <div class={this.tableBaseClass.affixedHeaderWrap} style={affixHeaderWrapHeightStyle.value}>\n        {affixedHeader}\n      </div>\n    );\n\n    /**\n     * Affixed Footer\n     */\n    let marginScrollbarWidth = this.isWidthOverflow ? this.scrollbarWidth : 0;\n    if (this.bordered) {\n      marginScrollbarWidth += 1;\n    }\n    // Hack: Affix 组件，marginTop 临时使用 负 margin 定位位置\n    const affixedFooter = Boolean(this.footerAffixedBottom && this.footData?.length && this.tableWidth) && (\n      <Affix\n        class={this.tableBaseClass.affixedFooterWrap}\n        onFixedChange={this.onFixedChange}\n        offsetBottom={marginScrollbarWidth || 0}\n        {...getAffixProps(this.footerAffixedBottom)}\n        style={{ marginTop: `${-1 * (this.tableFootHeight + marginScrollbarWidth)}px` }}\n        ref=\"footerBottomAffixRef\"\n      >\n        <div\n          ref=\"affixFooterRef\"\n          style={{ width: `${this.tableWidth - affixedLeftBorder}px`, opacity: Number(this.showAffixFooter) }}\n          class={['scrollbar', { [this.tableBaseClass.affixedFooterElm]: this.footerAffixedBottom || this.isVirtual }]}\n        >\n          <table class={this.tableElmClasses} style={{ ...this.tableElementStyles, width: `${this.tableElmWidth}px` }}>\n            {/* 此处和 Vue2 不同，Vue3 里面必须每一处单独写 <colgroup> */}\n            {renderColGroup(true)}\n            <TFoot\n              rowKey={this.rowKey}\n              v-slots={this.$slots}\n              isFixedHeader={this.isFixedHeader}\n              rowAndColFixedPosition={rowAndColFixedPosition}\n              footData={this.footData}\n              columns={columns}\n              rowAttributes={this.rowAttributes}\n              rowClassName={this.rowClassName}\n              thWidthList={this.thWidthList}\n              footerSummary={this.footerSummary}\n              rowspanAndColspanInFooter={this.rowspanAndColspanInFooter}\n            ></TFoot>\n          </table>\n        </div>\n      </Affix>\n    );\n\n    const translate = `translate(0, ${this.virtualConfig.scrollHeight.value}px)`;\n    const virtualStyle = {\n      transform: translate,\n      '-ms-transform': translate,\n      '-moz-transform': translate,\n      '-webkit-transform': translate,\n    };\n    const { virtualConfig } = this;\n    const tableBodyProps = {\n      classPrefix: this.classPrefix,\n      ellipsisOverlayClassName: this.size !== 'medium' ? this.sizeClassNames[this.size] : '',\n      rowAndColFixedPosition,\n      showColumnShadow: this.showColumnShadow,\n      data: virtualConfig.isVirtualScroll.value ? virtualConfig.visibleData.value : data,\n      virtualConfig: this.virtualConfig,\n      columns: this.spansAndLeafNodes.leafColumns,\n      tableElm: this.tableRef,\n      tableWidth: this.tableWidth,\n      isWidthOverflow: this.isWidthOverflow,\n      scroll: this.scroll,\n      cellEmptyContent: this.cellEmptyContent,\n      tableContentElm: this.tableContentRef,\n      handleRowMounted: this.virtualConfig.handleRowMounted,\n      renderExpandedRow: this.renderExpandedRow,\n      ...pick(this.$props, extendTableProps),\n      // 内部使用分页信息必须取 innerPagination\n      pagination: this.innerPagination,\n      attach: this.attach,\n      hoverRow: this.hoverRow,\n      activeRow: this.tActiveRow,\n      onRowClick: this.onInnerRowClick,\n    };\n    const tableContent = (\n      <div\n        ref=\"tableContentRef\"\n        class={this.tableBaseClass.content}\n        style={this.tableContentStyles}\n        onScroll={this.onInnerVirtualScroll}\n      >\n        {this.virtualConfig.isVirtualScroll.value && (\n          <div class={this.virtualScrollClasses.cursor} style={virtualStyle} />\n        )}\n\n        <table\n          ref=\"tableElmRef\"\n          class={this.tableElmClasses}\n          style={{\n            ...this.tableElementStyles,\n            width:\n              this.resizable && this.isWidthOverflow && this.tableElmWidth\n                ? `${this.tableElmWidth}px`\n                : this.tableElementStyles.width,\n          }}\n        >\n          {renderColGroup(false)}\n          {this.showHeader && (\n            <THead v-slots={this.$slots} {...{ ...headProps, thWidthList: columnResizable ? this.thWidthList : {} }} />\n          )}\n          <TBody v-slots={this.$slots} {...tableBodyProps} />\n          <TFoot\n            v-slots={this.$slots}\n            rowKey={this.rowKey}\n            isFixedHeader={this.isFixedHeader}\n            rowAndColFixedPosition={rowAndColFixedPosition}\n            footData={this.footData}\n            columns={columns}\n            rowAttributes={this.rowAttributes}\n            rowClassName={this.rowClassName}\n            footerSummary={this.footerSummary}\n            rowspanAndColspanInFooter={this.rowspanAndColspanInFooter}\n          ></TFoot>\n        </table>\n      </div>\n    );\n\n    const getCustomLoadingText = isFunction(this.loading) ? this.loading : this.$slots.loading;\n    const loadingContent = this.loading !== undefined && (\n      <Loading\n        loading={!!this.loading}\n        text={getCustomLoadingText}\n        attach={this.tableRef ? () => this.tableRef : undefined}\n        showOverlay\n        size=\"small\"\n        {...(this.loadingProps as BaseTableProps['loadingProps'])}\n      ></Loading>\n    );\n\n    const topContent = this.renderTNode('topContent');\n    const bottomContent = this.renderTNode('bottomContent');\n    const pagination = (\n      <div\n        ref=\"paginationRef\"\n        class={this.tableBaseClass.paginationWrap}\n        style={{ opacity: Number(this.showAffixPagination) }}\n      >\n        {this.renderPagination()}\n      </div>\n    );\n\n    const bottom = !!bottomContent && (\n      <div ref=\"bottomContentRef\" class={this.tableBaseClass.bottomContent}>\n        {bottomContent}\n      </div>\n    );\n\n    return (\n      <div\n        ref=\"tableRef\"\n        tabindex=\"0\"\n        class={this.dynamicBaseTableClasses}\n        onFocus={this.onTableFocus}\n        onBlur={this.onTableBlur}\n      >\n        {!!topContent && <div class={this.tableBaseClass.topContent}>{topContent}</div>}\n\n        {renderAffixedHeader()}\n\n        {tableContent}\n\n        {affixedFooter}\n\n        {loadingContent}\n\n        {bottom}\n\n        {/* 右侧滚动条分隔线 */}\n        {this.showRightDivider && (\n          <div\n            class={this.tableBaseClass.scrollbarDivider}\n            style={{\n              right: `${this.scrollbarWidth}px`,\n              bottom: this.dividerBottom ? `${this.dividerBottom}px` : undefined,\n              height: `${this.tableContentRef?.getBoundingClientRect().height}px`,\n            }}\n          ></div>\n        )}\n\n        {/* 吸底的滚动条 */}\n        {this.horizontalScrollAffixedBottom && renderAffixedHorizontalScrollbar()}\n\n        {/* 吸底的分页器 */}\n        {this.paginationAffixedBottom ? (\n          <Affix offsetBottom={0} {...getAffixProps(this.paginationAffixedBottom)} ref=\"paginationAffixRef\">\n            {pagination}\n          </Affix>\n        ) : (\n          pagination\n        )}\n\n        {/* 调整列宽时的指示线。由于层级需要比较高，因而放在根节点，避免被吸顶表头覆盖。非必要情况，请勿调整辅助线位置 */}\n        <div ref=\"resizeLineRef\" class={this.tableBaseClass.resizeLine} style={this.resizeLineStyle}></div>\n      </div>\n    );\n  },\n});\n"],"names":["_isSlot","s","Object","prototype","toString","call","_isVNode","BASE_TABLE_EVENTS","BASE_TABLE_ALL_EVENTS","ROW_LISTENERS","map","t","concat","defineComponent","name","props","_objectSpread","renderExpandedRow","Function","onLeafColumnsChange","thDraggable","Boolean","emits","setup","context","_toRefs","toRefs","lazyLoad","renderTNode","useTNodeJSX","tableRef","ref","tableElmRef","tableBodyRef","bottomContentRef","tableFootHeight","_useClassName","useClassName","classPrefix","virtualScrollClasses","tableLayoutClasses","tableBaseClass","tableColFixedClasses","_useStyle","useStyle","tableClasses","sizeClassNames","tableContentStyles","tableElementStyles","_useConfig","useConfig","locale","globalConfig","_useTableHeader","useTableHeader","isMultipleHeader","spansAndLeafNodes","thList","finalColumns","computed","_spansAndLeafNodes$va","value","leafColumns","columns","_useElementLazyRender","useElementLazyRender","showElement","paginationAffixRef","horizontalScrollAffixRef","headerTopAffixRef","footerBottomAffixRef","_useFixed","useFixed","scrollbarWidth","virtualScrollHeaderPos","tableWidth","tableElmWidth","tableContentRef","isFixedHeader","isWidthOverflow","isFixedColumn","thWidthList","showColumnShadow","rowAndColFixedPosition","setData","refreshTable","setTableElmWidth","emitScrollEvent","setUseFixedTableElmRef","updateColumnFixedShadow","getThWidthList","updateThWidthList","addTableResizeObserver","updateTableAfterColumnResize","_useAffix","useAffix","affixHeaderRef","affixFooterRef","horizontalScrollbarRef","paginationRef","showAffixHeader","showAffixFooter","showAffixPagination","onHorizontalScroll","setTableContentRef","updateAffixHeaderOrFooter","_usePagination","usePagination","dataSource","innerPagination","isPaginateData","renderPagination","columnResizeParams","useColumnResize","onColumnResizeChange","resizeLineRef","resizeLineStyle","setEffectColMap","dynamicBaseTableClasses","_defineProperty","headerFixed","columnFixed","widthOverflow","multipleHeader","leftShadow","left","rightShadow","right","columnResizableTable","resizable","activeRowType","tableElmClasses","tableLayout","showRightDivider","bordered","dividerBottom","_bottomContentRef$val","_paginationRef$value","bottomRect","getBoundingClientRect","paginationRect","height","_useRowHighlight","useRowHighlight","tActiveRow","onHighlightRow","addHighlightKeyboardListener","removeHighlightKeyboardListener","_useHoverKeyboardEven","useHoverKeyboardEvent","hoverRow","needKeyboardRowHover","clearHoverRow","addRowHoverKeyboardListener","removeRowHoverKeyboardListener","watch","data","_props2$onLeafColumns","immediate","onFixedChange","nextTick","virtualScrollParams","scroll","virtualConfig","useVirtualScrollNew","lastScrollY","onInnerVirtualScroll","e","target","srcElement","top","scrollTop","isVirtualScroll","handleScroll","getTFootHeight","_tableElmRef$value$qu","querySelector","scrollColumnIntoView","colKey","thDom","fixedThDom","querySelectorAll","totalWidth","i","len","length","width","domRect","contentRect","distance","scrollTo","behavior","onMounted","onTableFocus","onTableBlur","onInnerRowClick","ctx","_props2$onRowClick","onRowClick","_ref2","_ref3","_slicedToArray","emit","tableData","scrollToElement","params","index","_tableData$value","key","log","error","findIndex","item","get","rowKey","render","_this$spansAndLeafNod","_this$allowResizeColu","_this","_this$affixHeaderRef","_this$footData","_this$tableContentRef","_createVNode","columnResizable","allowResizeColumnWidth","warn","defaultColWidth","renderColGroup","isAffixHeader","arguments","undefined","col","style","formatCSSUnit","minWidth","renderAffixedHeader","showHeader","headerAffixedTop","Affix","_mergeProps","getAffixProps","affixHeaderWithWrap","_default","renderAffixedHorizontalScrollbar","horizontalScrollAffixedBottom","marginTop","obviousScrollbar","overflow","opacity","Number","headProps","maxHeight","ellipsisOverlayClassName","size","attach","IEHeaderWrap","getIEVersion","barWidth","affixHeaderHeight","timer","setTimeout","_this$affixHeaderRef2","clearTimeout","affixHeaderWrapHeight","headerOpacity","affixHeaderWrapHeightStyle","affixedLeftBorder","affixedHeader","affixedHeaderElm","THead","$slots","affixedHeaderWrap","marginScrollbarWidth","affixedFooter","footerAffixedBottom","footData","affixedFooterWrap","affixedFooterElm","isVirtual","TFoot","rowAttributes","rowClassName","footerSummary","rowspanAndColspanInFooter","translate","scrollHeight","virtualStyle","transform","tableBodyProps","visibleData","tableElm","cellEmptyContent","tableContentElm","handleRowMounted","pick","$props","extendTableProps","pagination","activeRow","tableContent","content","cursor","TBody","getCustomLoadingText","isFunction","loading","loadingContent","Loading","loadingProps","topContent","bottomContent","paginationWrap","bottom","scrollbarDivider","paginationAffixedBottom","resizeLine"],"mappings":"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"}